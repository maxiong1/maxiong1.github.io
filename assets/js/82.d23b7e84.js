(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{586:function(e,s,_){"use strict";_.r(s);var n=_(35),v=Object(n.a)({},(function(){var e=this,s=e.$createElement,_=e._self._c||s;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"npm-run-xxx到底干嘛了"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#npm-run-xxx到底干嘛了"}},[e._v("#")]),e._v(" npm run xxx到底干嘛了")]),e._v(" "),_("p",[e._v("npm is the world's largest software registry.")]),e._v(" "),_("h2",{attrs:{id:"脚本"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#脚本"}},[e._v("#")]),e._v(" 脚本")]),e._v(" "),_("p",[e._v("javascript是解释型的,它们都不能独立存在，必须寄生在其他程序[解释器]（比如浏览器）内。")]),e._v(" "),_("div",{staticClass:"language-js extra-class"},[_("pre",{pre:!0,attrs:{class:"language-js"}},[_("code",[_("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// demo.js")]),e._v("\nconsole"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),_("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),_("span",{pre:!0,attrs:{class:"token string"}},[e._v("'3333'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),_("p",[e._v("如果直接 "),_("code",[e._v("cd")]),e._v(" 到 "),_("code",[e._v("demo.js")]),e._v(" 目录下 执行 "),_("code",[e._v("./demo.js")]),e._v(" 会抛出异常。")]),e._v(" "),_("p",[e._v("使用"),_("code",[e._v("node ./demo.js")]),e._v("或者在"),_("code",[e._v("mode.js")]),e._v("中加入（#! 代码的英文发音）是文件的第一行，它告诉 OS 使用哪个解释器。")]),e._v(" "),_("p",[e._v("例如")]),e._v(" "),_("div",{staticClass:"language-sh extra-class"},[_("pre",{pre:!0,attrs:{class:"language-sh"}},[_("code",[_("span",{pre:!0,attrs:{class:"token shebang important"}},[e._v("#!/usr/bin/env xxx")]),e._v("\nconsole.log"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),_("span",{pre:!0,attrs:{class:"token string"}},[e._v("'3333'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),_("p",[_("code",[e._v("xxx")]),e._v(" 代表解析器  使用"),_("code",[e._v("node")]),e._v("或者"),_("code",[e._v("pwsh")]),e._v(" 写上"),_("code",[e._v("xxx")]),e._v("以后就可以在"),_("code",[e._v("bash")]),e._v("里面直接引入路径就可以执行或者"),_("code",[e._v("node 路径")])]),e._v(" "),_("h2",{attrs:{id:"npm-run"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#npm-run"}},[e._v("#")]),e._v(" npm run")]),e._v(" "),_("p",[e._v("在执行"),_("code",[e._v("npm install")]),e._v(" 的时候，会生成"),_("code",[e._v(".bin")]),e._v("文件[注释1]")]),e._v(" "),_("p",[_("code",[e._v("node_modules")]),e._v("文件夹下有"),_("code",[e._v(".bin")]),e._v("文件，包含对应脚本")]),e._v(" "),_("p",[_("code",[e._v("npm run xxx")]),e._v(" 的时候，会将当前目录的"),_("code",[e._v("node_modules/.bin")]),e._v("子目录加入"),_("code",[e._v("PATH")]),e._v("变量，执行结束后，再将"),_("code",[e._v("PATH")]),e._v("变量恢复原样。")]),e._v(" "),_("p",[e._v("这意味着，当前目录的"),_("code",[e._v("node_modules/.bin")]),e._v("子目录里面的所有脚本，都可以直接用脚本名调用，而不必加上路径。")]),e._v(" "),_("p",[e._v("所以 当把命令配置到 "),_("code",[e._v("package.json")]),e._v(" 的"),_("code",[e._v("scripts")]),e._v(" 里时，可以不加路径，直接执行那些链接到"),_("code",[e._v("./node_modules/.bin")]),e._v("里的文件，\n而且这些文件里，大都设置了"),_("code",[e._v("#!")]),e._v("这用来告诉系统此文件的执行需要指定一个解释器，"),_("code",[e._v("#!/usr/bin/env node")]),e._v("，所以不需要加"),_("code",[e._v("node 命令")]),e._v(" 就可以直接运行，\n而如果在终端 运行这些文件 就需要"),_("code",[e._v("cd")]),e._v("到该文件的目录，才可以执行。")]),e._v(" "),_("h5",{attrs:{id:"注释1"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#注释1"}},[e._v("#")]),e._v(" 注释1")]),e._v(" "),_("p",[e._v("第三方库里面的"),_("code",[e._v("package.json")]),e._v("文件中设置了"),_("code",[e._v("bin: xxx.js")]),e._v("字段，当用npm安装一个包时，\n如果安装的是一个局部包(全局安装也会但是不知道路径是哪里)，则会在"),_("code",[e._v("./node_modules/.bin")]),e._v("目录下建立一个与"),_("code",[e._v("xxx.js")]),e._v("对应的链接。")]),e._v(" "),_("p",[e._v("package.json里面的bin字段意思：用来指定各个内部命令对应的可执行文件的位置")]),e._v(" "),_("p",[e._v("例如：去你的项目中查看"),_("code",[e._v("vue-cli-service")]),e._v("这个包的"),_("code",[e._v("package.json")]),e._v("中的bin字段，再去看"),_("code",[e._v("./node_modules/.bin")]),e._v("文件夹里查看，就会看到 有一个"),_("code",[e._v("vue-cli-service.js .cmd .ps1")]),e._v(" 文件与 包里的原文件一样。")]),e._v(" "),_("p",[e._v("所有 "),_("code",[e._v("node_modules/.bin /")]),e._v("目录下的命令，都可以用"),_("code",[e._v("npm run [命令]")]),e._v("的格式运行。")]),e._v(" "),_("h2",{attrs:{id:"转载"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#转载"}},[e._v("#")]),e._v(" 转载")]),e._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://blog.csdn.net/mochenangel/article/details/109813456",target:"_blank",rel:"noopener noreferrer"}},[e._v("项目中终端执行npm run xxx 都做了什么"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://blog.csdn.net/qq_34703156/article/details/121401990",target:"_blank",rel:"noopener noreferrer"}},[e._v("package.json 最全详解"),_("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=v.exports}}]);